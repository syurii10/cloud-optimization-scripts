<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud Optimization Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        /* Navigation */
        nav {
            background: rgba(15, 23, 42, 0.95);
            padding: 1rem 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        nav ul {
            list-style: none;
            display: flex;
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        nav button {
            background: none;
            border: none;
            color: #94a3b8;
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }

        nav button:hover {
            color: white;
        }

        nav button.active {
            color: white;
            border-bottom-color: #667eea;
        }

        /* Container */
        .container {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 2rem;
        }

        /* Page Sections */
        .page {
            display: none;
            animation: fadeIn 0.5s;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Cards */
        .card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 2rem;
            border-radius: 12px;
            text-align: center;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            opacity: 0.9;
            font-size: 0.9rem;
        }

        /* Table */
        table {
            width: 100%;
            border-collapse: collapse;
        }

        th {
            background: #f1f5f9;
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            color: #334155;
        }

        td {
            padding: 1rem;
            border-bottom: 1px solid #e2e8f0;
        }

        tr:hover {
            background: #f8fafc;
        }

        .rank-1 {
            background: #fef3c7;
        }

        .topsis-score {
            background: linear-gradient(135deg, #10b981, #3b82f6);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: bold;
        }

        /* Charts */
        .charts-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
        }

        .chart-container {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            height: 400px;
        }

        .chart-container canvas {
            max-height: 300px !important;
            height: 300px !important;
        }

        .chart-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: #1e293b;
        }

        /* Buttons */
        .btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: transform 0.2s;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        /* Winner Banner */
        .winner-banner {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
            padding: 2rem;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 2rem;
        }

        .winner-banner h1 {
            font-size: 3rem;
            margin: 1rem 0;
        }

        /* Method Cards */
        .method-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
        }

        .method-card {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            border-left: 4px solid #667eea;
        }

        .method-card h3 {
            color: #667eea;
            margin-bottom: 1rem;
        }

        h1, h2 {
            color: white;
            margin-bottom: 1.5rem;
        }

        .card h2 {
            color: #1e293b;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <ul>
            <li><button onclick="navigateTo('home')" class="nav-btn active" data-page="home">–ì–æ–ª–æ–≤–Ω–∞</button></li>
            <li><button onclick="navigateTo('results')" class="nav-btn" data-page="results">–†–µ–∑—É–ª—å—Ç–∞—Ç–∏</button></li>
            <li><button onclick="navigateTo('charts')" class="nav-btn" data-page="charts">–ì—Ä–∞—Ñ—ñ–∫–∏</button></li>
            <li><button onclick="navigateTo('methodology')" class="nav-btn" data-page="methodology">–ú–µ—Ç–æ–¥–æ–ª–æ–≥—ñ—è</button></li>
        </ul>
    </nav>

    <div class="container">
        <!-- Home Page -->
        <div id="home" class="page active">
            <h1>Cloud Optimization Dashboard</h1>
            <p style="color: white; font-size: 1.2rem; margin-bottom: 2rem;">
                –ë–∞–≥–∞—Ç–æ–∫—Ä–∏—Ç–µ—Ä—ñ–∞–ª—å–Ω–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è —Ö–º–∞—Ä–Ω–æ—ó —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ AWS
            </p>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalRequests">0</div>
                    <div class="stat-label">–ó–∞–≥–∞–ª—å–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="successRate">0%</div>
                    <div class="stat-label">–£—Å–ø—ñ—à–Ω—ñ—Å—Ç—å</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="avgResponse">0</div>
                    <div class="stat-label">–º—Å —Å–µ—Ä–µ–¥–Ω—ñ–π –≤—ñ–¥–≥—É–∫</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="instancesCount">0</div>
                    <div class="stat-label">–¢–∏–ø—ñ–≤ —ñ–Ω—Å—Ç–∞–Ω—Å—ñ–≤</div>
                </div>
            </div>

            <div class="card">
                <h2>–ü—Ä–æ –ø—Ä–æ–µ–∫—Ç</h2>
                <p style="line-height: 1.6; color: #475569;">
                    –¶–µ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è –ø—Ä–∏—Å–≤—è—á–µ–Ω–µ –≤–∏–±–æ—Ä—É –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ—ó –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó —Ö–º–∞—Ä–Ω–æ—ó —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ AWS 
                    –Ω–∞ –æ—Å–Ω–æ–≤—ñ –±–∞–≥–∞—Ç–æ–∫—Ä–∏—Ç–µ—Ä—ñ–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª—ñ–∑—É. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –º–µ—Ç–æ–¥ TOPSIS, –ø—Ä–æ–≤–µ–¥–µ–Ω–æ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è 
                    —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ EC2 —ñ–Ω—Å—Ç–∞–Ω—Å—ñ–≤ –∑–∞ –∫—Ä–∏—Ç–µ—Ä—ñ—è–º–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ, –≤–∞—Ä—Ç–æ—Å—Ç—ñ —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤.
                </p>
                <button class="btn" onclick="navigateTo('results')" style="margin-top: 1rem;">
                    –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ ‚Üí
                </button>
            </div>
        </div>

        <!-- Results Page -->
        <div id="results" class="page">
            <h1>–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó</h1>

            <div class="winner-banner">
                <div style="font-size: 3rem;">üèÜ</div>
                <h1 id="winnerName">-</h1>
                <p style="font-size: 1.1rem;" id="winnerDetails">-</p>
            </div>

            <div class="card">
                <h2>–¢–∞–±–ª–∏—Ü—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ TOPSIS</h2>
                <table id="resultsTable">
                    <thead>
                        <tr>
                            <th>–†–∞–Ω–≥</th>
                            <th>–Ü–Ω—Å—Ç–∞–Ω—Å</th>
                            <th>TOPSIS Score</th>
                            <th>RPS</th>
                            <th>–í—ñ–¥–≥—É–∫ (–º—Å)</th>
                            <th>CPU %</th>
                            <th>RAM %</th>
                            <th>–í–∞—Ä—Ç—ñ—Å—Ç—å</th>
                        </tr>
                    </thead>
                    <tbody id="resultsBody">
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Charts Page -->
        <div id="charts" class="page">
            <h1>–í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö</h1>

            <div class="charts-grid">
                <div class="chart-container">
                    <h3 class="chart-title">–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ</h3>
                    <canvas id="performanceChart"></canvas>
                </div>

                <div class="chart-container">
                    <h3 class="chart-title">–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤</h3>
                    <canvas id="resourceChart"></canvas>
                </div>

                <div class="chart-container">
                    <h3 class="chart-title">–ú–µ—Ç—Ä–∏–∫–∏ –≤ —á–∞—Å—ñ (t3.small)</h3>
                    <canvas id="timelineChart"></canvas>
                </div>

                <div class="chart-container">
                    <h3 class="chart-title">TOPSIS –æ—Ü—ñ–Ω–∫–∏</h3>
                    <canvas id="topsisChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Methodology Page -->
        <div id="methodology" class="page">
            <h1>–ú–µ—Ç–æ–¥–æ–ª–æ–≥—ñ—è –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è</h1>

            <div class="card">
                <h2>–ï—Ç–∞–ø–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è</h2>
                <div class="method-grid">
                    <div class="method-card">
                        <h3>1. –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏</h3>
                        <p>–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Terraform –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è EC2 —ñ–Ω—Å—Ç–∞–Ω—Å—ñ–≤ –Ω–∞ AWS</p>
                    </div>
                    <div class="method-card">
                        <h3>2. –ù–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞–ª—å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è</h3>
                        <p>–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è HTTP –∑–∞–ø–∏—Ç—ñ–≤ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º Python —Ç–∞ aiohttp</p>
                    </div>
                    <div class="method-card">
                        <h3>3. –ó–±—ñ—Ä –º–µ—Ç—Ä–∏–∫</h3>
                        <p>–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ CPU, RAM —Ç–∞ —á–∞—Å—É –≤—ñ–¥–≥—É–∫—É –ø—ñ–¥ —á–∞—Å —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è</p>
                    </div>
                    <div class="method-card">
                        <h3>4. TOPSIS –∞–Ω–∞–ª—ñ–∑</h3>
                        <p>–ë–∞–≥–∞—Ç–æ–∫—Ä–∏—Ç–µ—Ä—ñ–∞–ª—å–Ω–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –¥–ª—è –≤–∏–±–æ—Ä—É –Ω–∞–π–∫—Ä–∞—â–æ–≥–æ –≤–∞—Ä—ñ–∞–Ω—Ç—É</p>
                    </div>
                    <div class="method-card">
                        <h3>5. –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è</h3>
                        <p>–°—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö –≥—Ä–∞—Ñ—ñ–∫—ñ–≤ —Ç–∞ –¥–∞—à–±–æ—Ä–¥—ñ–≤</p>
                    </div>
                    <div class="method-card">
                        <h3>6. –ê–Ω–∞–ª—ñ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤</h3>
                        <p>–§–æ—Ä–º—É–≤–∞–Ω–Ω—è –≤–∏—Å–Ω–æ–≤–∫—ñ–≤ —Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π</p>
                    </div>
                </div>
            </div>

            <div class="card" style="margin-top: 2rem;">
                <h2>–ö—Ä–∏—Ç–µ—Ä—ñ—ó –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó</h2>
                <ul style="line-height: 2; color: #475569; margin-left: 2rem;">
                    <li><strong>–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:</strong> –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ —Å–µ–∫—É–Ω–¥—É (RPS)</li>
                    <li><strong>–ß–∞—Å –≤—ñ–¥–≥—É–∫—É:</strong> –°–µ—Ä–µ–¥–Ω—ñ–π —á–∞—Å –æ–±—Ä–æ–±–∫–∏ –∑–∞–ø–∏—Ç—É (–º—Å)</li>
                    <li><strong>–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è CPU:</strong> –í—ñ–¥—Å–æ—Ç–æ–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞</li>
                    <li><strong>–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è RAM:</strong> –í—ñ–¥—Å–æ—Ç–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ—ó –ø–∞–º'—è—Ç—ñ</li>
                    <li><strong>–í–∞—Ä—Ç—ñ—Å—Ç—å:</strong> –¶—ñ–Ω–∞ –∑–∞ –≥–æ–¥–∏–Ω—É —Ä–æ–±–æ—Ç–∏ —ñ–Ω—Å—Ç–∞–Ω—Å—É ($/–≥–æ–¥)</li>
                </ul>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Data Storage
        const appData = {
            instances: [
                {
                    name: 't3.micro',
                    rps: 80,
                    avgResponse: 45.00,
                    cpu: 15.00,
                    memory: 35.00,
                    cost: 0.0104,
                    topsisScore: 0.650
                },
                {
                    name: 't3.small',
                    rps: 100,
                    avgResponse: 24.49,
                    cpu: 0.42,
                    memory: 20.91,
                    cost: 0.0208,
                    topsisScore: 0.820
                },
                {
                    name: 't3.medium',
                    rps: 150,
                    avgResponse: 15.00,
                    cpu: 0.30,
                    memory: 18.00,
                    cost: 0.0416,
                    topsisScore: 0.710
                }
            ],
            timeline: [
                { time: '0s', cpu: 0, ram: 21.0 },
                { time: '10s', cpu: 0.5, ram: 21.0 },
                { time: '20s', cpu: 1.0, ram: 21.1 },
                { time: '30s', cpu: 1.0, ram: 21.1 },
                { time: '40s', cpu: 0.5, ram: 21.1 },
                { time: '50s', cpu: 1.0, ram: 20.6 },
                { time: '60s', cpu: 0, ram: 20.6 }
            ],
            stats: {
                totalRequests: 6000,
                successRate: 100,
                avgResponse: 24.5
            }
        };

        // Navigation
        function navigateTo(pageName) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });

            // Show selected page
            document.getElementById(pageName).classList.add('active');

            // Update nav buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-page="${pageName}"]`).classList.add('active');

            // Load page-specific data
            if (pageName === 'charts') {
                loadCharts();
            } else if (pageName === 'results') {
                loadResults();
            }
        }

        // Initialize Home Page
        function initHomePage() {
            document.getElementById('totalRequests').textContent = appData.stats.totalRequests.toLocaleString();
            document.getElementById('successRate').textContent = appData.stats.successRate + '%';
            document.getElementById('avgResponse').textContent = appData.stats.avgResponse;
            document.getElementById('instancesCount').textContent = appData.instances.length;

            // Animate numbers
            animateValue('totalRequests', 0, appData.stats.totalRequests, 1000);
        }

        // Animate counter
        function animateValue(id, start, end, duration) {
            const obj = document.getElementById(id);
            const range = end - start;
            const increment = end > start ? 1 : -1;
            const stepTime = Math.abs(Math.floor(duration / range));
            let current = start;

            const timer = setInterval(() => {
                current += increment * 10;
                if (current >= end) {
                    current = end;
                    clearInterval(timer);
                }
                obj.textContent = current.toLocaleString();
            }, stepTime);
        }

        // Load Results
        function loadResults() {
            const sorted = [...appData.instances].sort((a, b) => b.topsisScore - a.topsisScore);
            const winner = sorted[0];

            document.getElementById('winnerName').textContent = winner.name;
            document.getElementById('winnerDetails').textContent = 
                `–û—Ü—ñ–Ω–∫–∞: ${winner.topsisScore.toFixed(3)} | CPU: ${winner.cpu}% | RAM: ${winner.memory.toFixed(2)}% | –í–∞—Ä—Ç—ñ—Å—Ç—å: $${winner.cost}/–≥–æ–¥`;

            const tbody = document.getElementById('resultsBody');
            tbody.innerHTML = '';

            const medals = ['ü•á', 'ü•à', 'ü•â'];
            sorted.forEach((inst, idx) => {
                const row = document.createElement('tr');
                if (idx === 0) row.classList.add('rank-1');
                
                row.innerHTML = `
                    <td style="font-size: 1.5rem;">${medals[idx]}</td>
                    <td><strong>${inst.name}</strong></td>
                    <td><span class="topsis-score">${inst.topsisScore.toFixed(3)}</span></td>
                    <td>${inst.rps}</td>
                    <td>${inst.avgResponse.toFixed(2)}</td>
                    <td>${inst.cpu.toFixed(2)}</td>
                    <td>${inst.memory.toFixed(2)}</td>
                    <td>$${inst.cost}</td>
                `;
                tbody.appendChild(row);
            });
        }

        // Load Charts
        let charts = {};
        function loadCharts() {
            if (charts.performance) return; // Already loaded

            const chartConfig = {
                responsive: true,
                maintainAspectRatio: true,
                aspectRatio: 2,
                plugins: {
                    legend: { labels: { font: { size: 12, weight: '600' } } }
                }
            };

            // Performance Chart
            charts.performance = new Chart(document.getElementById('performanceChart'), {
                type: 'bar',
                data: {
                    labels: appData.instances.map(i => i.name),
                    datasets: [{
                        label: 'RPS',
                        data: appData.instances.map(i => i.rps),
                        backgroundColor: '#3b82f6'
                    }, {
                        label: '–í—ñ–¥–≥—É–∫ (–º—Å)',
                        data: appData.instances.map(i => i.avgResponse),
                        backgroundColor: '#10b981'
                    }]
                },
                options: chartConfig
            });

            // Resource Chart
            charts.resource = new Chart(document.getElementById('resourceChart'), {
                type: 'bar',
                data: {
                    labels: appData.instances.map(i => i.name),
                    datasets: [{
                        label: 'CPU %',
                        data: appData.instances.map(i => i.cpu),
                        backgroundColor: '#f59e0b'
                    }, {
                        label: 'RAM %',
                        data: appData.instances.map(i => i.memory),
                        backgroundColor: '#ec4899'
                    }]
                },
                options: chartConfig
            });

            // Timeline Chart
            charts.timeline = new Chart(document.getElementById('timelineChart'), {
                type: 'line',
                data: {
                    labels: appData.timeline.map(t => t.time),
                    datasets: [{
                        label: 'CPU %',
                        data: appData.timeline.map(t => t.cpu),
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'RAM %',
                        data: appData.timeline.map(t => t.ram),
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: chartConfig
            });

            // TOPSIS Chart
            const sorted = [...appData.instances].sort((a, b) => b.topsisScore - a.topsisScore);
            charts.topsis = new Chart(document.getElementById('topsisChart'), {
                type: 'bar',
                data: {
                    labels: sorted.map(i => i.name),
                    datasets: [{
                        label: 'TOPSIS Score',
                        data: sorted.map(i => i.topsisScore),
                        backgroundColor: ['#10b981', '#3b82f6', '#8b5cf6']
                    }]
                },
                options: {
                    ...chartConfig,
                    scales: {
                        y: {
                            min: 0,
                            max: 1
                        }
                    }
                }
            });
        }

        // Load Real Data from API
        async function loadRealData() {
            try {
                // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö –¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ API
                const response = await fetch('/api/data');
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: API error`);
                }
                const data = await response.json();

                if (!data.success) {
                    throw new Error('API returned error');
                }

                // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö TOPSIS –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó
                if (data.optimization && data.optimization.results) {
                    appData.instances = data.optimization.results.map(result => ({
                        name: result.alternative,
                        topsisScore: result.score,
                        rps: result.criteria.performance,
                        avgResponse: result.criteria.response_time * 1000,
                        cpu: result.criteria.cpu_usage,
                        memory: result.criteria.memory_usage,
                        cost: result.criteria.cost
                    }));
                }

                // –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö
                let totalRequests = 0;
                let totalSuccessful = 0;
                let responseTimeSum = 0;
                let responseTimeCount = 0;

                Object.keys(data.instances).forEach(instanceName => {
                    const instance = data.instances[instanceName];
                    if (instance.test) {
                        totalRequests += instance.test.total_requests || 0;
                        totalSuccessful += instance.test.successful_requests || 0;
                        responseTimeSum += (instance.test.avg_response_time || 0) * 1000;
                        responseTimeCount++;
                    }
                });

                appData.stats.totalRequests = totalRequests;
                appData.stats.successRate = totalRequests > 0
                    ? ((totalSuccessful / totalRequests) * 100).toFixed(0)
                    : 100;
                appData.stats.avgResponse = responseTimeCount > 0
                    ? (responseTimeSum / responseTimeCount).toFixed(1)
                    : 0;

                // –û–Ω–æ–≤–ª–µ–Ω–Ω—è timeline –∑ –ø–µ—Ä—à–æ–≥–æ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ —ñ–Ω—Å—Ç–∞–Ω—Å—É
                const firstInstance = Object.values(data.instances)[0];
                if (firstInstance && firstInstance.metrics && firstInstance.metrics.metrics) {
                    appData.timeline = firstInstance.metrics.metrics.slice(0, 7).map((m, idx) => ({
                        time: `${idx * 15}s`,
                        cpu: m.cpu?.percent || 0,
                        ram: m.memory?.percent || 0
                    }));
                }

                console.log('‚úÖ –†–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ —É—Å–ø—ñ—à–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ –∑ API!');
                console.log('üìä –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ —ñ–Ω—Å—Ç–∞–Ω—Å—ñ–≤:', appData.instances.length);
                console.log('üèÜ –ü–µ—Ä–µ–º–æ–∂–µ—Ü—å:', data.optimization?.best_alternative);
                initHomePage();

            } catch (error) {
                console.error('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö:', error.message);
                console.warn('‚ö†Ô∏è –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ');
                initHomePage();
            }
        }

        // Initialize on load
        window.addEventListener('load', () => {
            loadRealData();
        });
    </script>
</body>
</html>